{% extends "base.html" %}
{% load static %}

{% block content%}
<body class="text-center lang-en">
<main>
<main class="form-signin">

<img class="mb-4" src="{% static 'logo.png' %}" height="50" width="180">

<h1 class="h3 mb-3 fw-normal">Irish tax calculator for Capital Gains Tax on shares</h1>
</div>
{% if error %}
<div style="margin-left:20%; margin-right:20%;">
<form method="POST" action="{% url 'app_home:tax' %}">
<div class="form-floating">
{% csrf_token %}
<input type="number" class="form-control is-invalid" id="no_shares" name="no_shares">
<label for="floatingInput">No. of shares</label>
</div>
<br>
<div class="form-floating" method="post">
{% csrf_token %}
<input type="number" step="0.01" class="form-control is-invalid" id="purchaseprice" name="purchaseprice">
<label for="floatingInput">Purchase price €</label>
</div>
<br>
<div class="form-floating">
{% csrf_token %}
<input type="number" step="0.01" class="form-control is-invalid" id="saleprice" name="saleprice">
<label for="floatingInput">Sale price €</label>
<div id="validationServerUsernameFeedback" class="invalid-feedback">
<p>Please fill in the form correctly.</p>
</div>
</div>
</div>
<span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="top" data-bs-content="Every citizen of Ireland is entitled to a capital gain tax exemption of €1270, which means the first €1270 of your gain is tax free, after this amount you pay the standard rate of 33%. Check the box if you want to factor in this exemption into your calculation.">
<div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
  <input type="checkbox" class="btn-check" id="btncheck1" name="cgt_button" autocomplete="off">
  <label class="btn btn-outline-primary" for="btncheck1">Include CGT exemption</label>
</div>
</span>
<br>
<br>
<input class="w-50 btn btn-lg btn-primary" type="submit" value="Calculate">
</form>

{% else %}
<div style="margin-left:20%; margin-right:20%;">
<form method="POST" action="{% url 'app_home:tax' %}">
<div class="form-floating">
{% csrf_token %}
<input type="number" class="form-control" id="no_shares" name="no_shares" placeholder="No. of shares">
<label for="floatingInput">No. of shares</label>
</div>
<br>
<div class="form-floating" method="post">
{% csrf_token %}
<input type="number" step="0.01" class="form-control" id="purchaseprice" name="purchaseprice" placeholder="Purchase price">
<label for="floatingInput">Purchase price €</label>
</div>
<br>
<div class="form-floating">
{% csrf_token %}
<input type="number" step="0.01" class="form-control" id="saleprice" name="saleprice" placeholder="Sale price">
<label for="floatingInput">Sale price €</label>
</div>
<br>
<span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="top" data-bs-content="Every citizen of Ireland is entitled to a capital gain tax exemption of €1270, which means the first €1270 of your gain is tax free, after this amount you pay the standard rate of 33%. Check the box if you want to factor in this exemption into your calculation.">
<div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
  <input type="checkbox" class="btn-check" id="btncheck1" name="cgt_button" autocomplete="off">
  <label class="btn btn-outline-primary" for="btncheck1">Include CGT exemption</label>
</div>
</span>
<br>
<br>
<input class="w-50 btn btn-lg btn-primary" type="submit" value="Calculate">
</form>
{% endif %}
</main>
<script>
var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
  return new bootstrap.Popover(popoverTriggerEl)
})
</script>
</body>
{% endblock %}